<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.ssafy.zipsee.house.model.mapper.HouseDealMapper">
	
	<select id="getHouseDealList" parameterType="String" resultType="com.ssafy.zipsee.house.model.HouseDealDto">
		select
		d.deal_id as dealId,
		d.house_id as houseId,
		d.area as area,
		d.floor as floor,
		d.deal_type as dealType,
		d.price as price,
		i.house_name as "houseInfo.houseName",
		i.build_year as "houseInfo.buildYear",
		i.jibun as "houseInfo.jibun", 
		i.lat as "houseInfo.lat",
		i.lng as "houseInfo.lng",
		i.img as "houseInfo.img"
		from housedeal d, houseinfo i
		where d.house_id = i.house_id
			and i.dong_code = #{dongCode}
	</select>
		
	<select id="getHouseDeal" resultType="com.ssafy.zipsee.house.model.HouseDealDto">
		select
		d.deal_id as dealId,
		d.house_id as houseId,
		d.area as area,
		d.floor as floor,
		d.deal_type as dealType,
		d.price as price,
		i.house_name as "houseInfo.houseName",
		i.build_year as "houseInfo.buildYear",
		i.jibun as "houseInfo.jibun", 
		i.lat as "houseInfo.lat",
		i.lng as "houseInfo.lng",
		i.img as "houseInfo.img"
		from housedeal d, houseinfo i
		where d.house_id = i.house_id
			and d.deal_id = #{dealId}
	</select>
</mapper>